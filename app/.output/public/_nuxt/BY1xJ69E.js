import{u as I}from"./BLOsYvQj.js";import{e as h,G as C,r as w,z as x,c as n,f as z,F as V,o as i,a as s,d as a,t as p,b as d,u as m}from"./B4C1c3y9.js";import g from"./CDF5jS1J.js";import"./DfIvkuC_.js";import"./DGOriwfr.js";import"./yOe6c3TM.js";import"./DDRO_9ox.js";import"./ZhWAdK_X.js";import"./CG7fiWaA.js";import"./B-SteLpu.js";import"./jc0MLXVe.js";const q={key:0},B={class:"mb-2"},E={class:"flex gap-2"},H=h({__name:"invitation",setup(N){const u=C(),l=u.query.userId,v=u.query.groupeId,t=w([]),{getInvitations:f,responseInvitation:y}=I(),k=async()=>{if(l)try{t.value=await f(l)}catch(o){console.error("Erreur lors du chargement des invitations :",o)}},c=async(o,e)=>{try{await y(e.user.id,v??e.group.id.toString(),o),t.value=t.value.filter(r=>r.group.id!==e.group.id)}catch(r){console.error("Erreur lors de la réponse à l'invitation :",r)}};return x(k),(o,e)=>t.value.length===0?(i(),n("div",q,"Aucune invitation reçue.")):(i(!0),n(V,{key:1},z(t.value,(r,_)=>(i(),n("div",{key:_,class:"bg-white p-4 shadow rounded-lg mb-4"},[s("p",B,[e[0]||(e[0]=a(" Vous avez invité à rejoindre le groupe ")),s("strong",null,p(r.group.name),1),e[1]||(e[1]=a(" en tant que ")),s("em",null,p(r.role),1),e[2]||(e[2]=a(". "))]),s("div",E,[d(m(g),{icon:"pi pi-check",label:"Accepter",severity:"success",size:"small",onClick:b=>c(!0,r)},null,8,["onClick"]),d(m(g),{icon:"pi pi-times",label:"Refuser",severity:"danger",size:"small",onClick:b=>c(!1,r)},null,8,["onClick"])])]))),128))}});export{H as default};
