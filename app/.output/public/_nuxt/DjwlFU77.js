import{e as M,c as j,o as a,a as t,n as c,t as n,s as z,i as A,j as N,g as V,r as T,k as d,w as O,l as f,b as l,u as o}from"./DIPFmy-v.js";import{_ as U}from"./DCdIyoio.js";import{_ as q}from"./Blfeepg9.js";import{f as B}from"./CPAmBVur.js";import{g as L}from"./8G3UIhLy.js";import F from"./BmRJgn3N.js";import{d as H}from"./ag4DBlC9.js";import{u as J}from"./BHQ_9aDK.js";import"./uCJnJXJ-.js";import"./o7P3adlc.js";import"./Df5vyCdq.js";import"./BVgkDWEn.js";import"./Bhal5AHG.js";import"./B9EJQSTf.js";import"./BeJWclAO.js";import"./CdE3wk_g.js";import"./jc0MLXVe.js";import"./ZhWAdK_X.js";import"./DbvGJklE.js";import"./B-FWTQXe.js";import"./645wuXyG.js";import"./CLs7nh7g.js";import"./BUsatsII.js";import"./BXhfHGud.js";import"./DCufs6j1.js";import"./WhPbpioh.js";import"./CmTubat5.js";const K={class:"shadow rounded-lg p-4"},Q={class:"flex gap-1 items-center text-lg font-semibold"},W=M({__name:"CardProfil",props:{label:{},content:{},icon:{}},setup(P){return(e,p)=>(a(),j("div",K,[t("div",Q,[t("i",{class:c(["pi stroke-2 mr-2",[e.icon]])},null,2),t("p",null,n(e.label),1)]),t("p",null,n(e.content),1)]))}}),X={key:0,class:"flex flex-col justify-center items-center"},Y={class:"relative"},Z=["src"],oo={class:"text-sm mt-3"},eo={class:"font-bold"},to={class:"mt-1"},so={class:"flex flex-col md:flex-row w-full lg:max-w-3/4 gap-8 mt-12"},ro={class:"flex justify-center mt-10"},jo=M({__name:"index",setup(P){var g;const{user:e}=z(A()),{personnalGroup:p}=z(N()),u=V(),{clearAuth:R,uploadPicture:S}=A(),_=T(null);return J({title:"Mon profil",description:"Consultez et modifiez les informations de votre profil utilisateur pour personnaliser votre expérience sur MonApp.",ogTitle:"Profil utilisateur",ogDescription:"Gérez vos informations personnelles et paramètres de compte depuis votre profil Monea.",image:((g=e.value)==null?void 0:g.picture)??void 0}),(s,r)=>{const m=F,v=W,E=U,I=q;return a(),d(I,null,{default:O(()=>{var b,h,C,y,k,x,D,$,G;return[o(e)?(a(),j("div",X,[t("div",Y,[t("img",{src:o(e).picture??o(H),class:"rounded-full w-32 h-32 bg-gray-100 object-cover"},null,8,Z),o(e).googleId?f("",!0):(a(),d(m,{key:0,icon:"pi pi-pencil",size:"small",class:"absolute right-0 top-0",onClick:r[0]||(r[0]=i=>{var w;return(w=o(_))==null?void 0:w.open()})}))]),t("p",oo," Membre depuis le "+n(("formatLongDate"in s?s.formatLongDate:o(B))(o(e).createdAt)),1),t("p",{class:c(["text-2xl font-bold",[`text-${(b=o(p))==null?void 0:b.color}-700`]])},n((h=o(e))==null?void 0:h.name)+" "+n((C=o(e))==null?void 0:C.lastname),3),t("p",eo,n((y=o(e))==null?void 0:y.username),1),t("div",to,[l(m,{icon:"pi pi-eye",label:"Invitation",class:c(["mr-2",[("getGroupColor"in s?s.getGroupColor:o(L))({color:(k=o(p))==null?void 0:k.color})]]),size:"small",onClick:r[1]||(r[1]=i=>o(u).push("/user/invitation"))},null,8,["class"]),l(m,{icon:"pi pi-pencil",label:"Edition",size:"small",class:c([("getGroupColor"in s?s.getGroupColor:o(L))({color:(x=o(p))==null?void 0:x.color})]),onClick:r[2]||(r[2]=i=>o(u).push("/user/edit"))},null,8,["class"])])])):f("",!0),t("div",so,[l(v,{icon:"pi-inbox",label:"Email",content:(D=o(e))==null?void 0:D.email},null,8,["content"]),($=o(e))!=null&&$.birthday?(a(),d(v,{key:0,icon:"pi-gift",label:"Anniversaire",content:("formatLongDate"in s?s.formatLongDate:o(B))((G=o(e))==null?void 0:G.birthday)},null,8,["content"])):f("",!0)]),t("div",ro,[l(m,{label:"Deconnexion",severity:"danger",variant:"outlined",onClick:r[3]||(r[3]=i=>(o(R)(),o(u).push({name:"auth-login"})))})]),l(E,{ref_key:"dialogRef",ref:_,"upload-fn":i=>o(S).mutateAsync(i),label:"Modifier la photo de profil"},null,8,["upload-fn"])]}),_:1})}}});export{jo as default};
