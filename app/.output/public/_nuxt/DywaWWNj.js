import{_ as S}from"./F6JjwL24.js";import{h as B,_ as V}from"./BbegwVcs.js";import{_ as q}from"./K4Jon-7_.js";import{_ as F}from"./C_o935Ya.js";import{_ as I}from"./D20KOEKY.js";import{_ as O}from"./B8dcZ_z0.js";import{d as K}from"./CPAmBVur.js";import{g as u}from"./8G3UIhLy.js";import{e as L,K as P,s as T,j as U,r as J,I as Q,g as W,c as l,b as p,l as n,k as i,u as e,a as h,n as m,F as d,f as w,o as s,w as X}from"./Ckx6mslq.js";import{u as Y}from"./Bh8lGdWS.js";import f from"./BYVjy45l.js";const Z={key:0,class:"flex flex-col gap-10"},ee={class:"flex flex-col gap-2 sm:flex-row justify-between items-center"},oe={key:0},se={class:"grid gap-6 grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"},re={key:1},ge=L({__name:"AllExpensesDisplay",props:{haveCategory:{type:Boolean},actionButton:{type:Boolean},subHeader:{},expensesDate:{},category:{}},setup(x){const R=P(),{group:o}=T(U()),g=J(null),D=x,_=Q(()=>D.expensesDate??{}),y=W(),{uploadCoverGroupMutation:E}=Y(o);return(r,t)=>{var b,k,v,C;const H=S,j=V,z=q,A=F,G=I,M=O;return s(),l(d,null,[p(H,{label:r.subHeader.label,color:(b=r.subHeader)==null?void 0:b.color,to:r.subHeader.to,params:r.subHeader.params},null,8,["label","color","to","params"]),e(o)?(s(),l("div",Z,[h("div",ee,[p(j,{category:r.category},null,8,["category"]),r.actionButton?(s(),l("div",oe,[p(e(f),{icon:"pi pi-eye",label:"Budget",size:"small",class:m([e(u)({color:(k=e(o))==null?void 0:k.color})]),onClick:t[0]||(t[0]=a=>e(y).push(`/groups/${e(o).id}/budget`))},null,8,["class"]),e(B)(e(o))?(s(),i(e(f),{key:0,icon:"pi pi-pencil",label:"Edition",size:"small",class:m(["mx-2",[e(u)({color:(v=e(o))==null?void 0:v.color})]]),onClick:t[1]||(t[1]=a=>e(y).push(`/groups/${e(o).id}/edit`))},null,8,["class"])):n("",!0),e(B)(e(o))?(s(),i(e(f),{key:1,icon:"pi pi-download",label:"Cover",size:"small",class:m([e(u)({color:(C=e(o))==null?void 0:C.color})]),onClick:t[2]||(t[2]=a=>{var c;return(c=e(g))==null?void 0:c.open()})},null,8,["class"])):n("",!0)])):n("",!0),p(z,{ref_key:"dialogRef",ref:g,"upload-fn":a=>e(E).mutateAsync(a),label:"Modifier la cover du groupe."},null,8,["upload-fn"])]),Object.keys(_.value).length>0?(s(!0),l(d,{key:0},w(Object.entries(_.value),([a,c],N)=>(s(),i(G,{key:N,label:e(K)(new Date(a))},{default:X(()=>[h("div",se,[(s(!0),l(d,null,w(c,$=>(s(),i(A,{key:$.id,"group-id":e(o).id,expense:$},null,8,["group-id","expense"]))),128))])]),_:2},1032,["label"]))),128)):(s(),l("p",re,"Créer votre première dépense !"))])):n("",!0),e(o)&&e(o).userRole!=="viewer"&&e(o).userRole!=="banned"?(s(),i(M,{key:1,to:`${e(R).path}/expense/new`,class:m([e(u)({color:e(o).color})]),query:{...r.category?{category:r.category.id}:{category:0}}},null,8,["to","class","query"])):n("",!0)],64)}}});export{ge as _};
