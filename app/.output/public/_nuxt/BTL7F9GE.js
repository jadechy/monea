import{_ as j}from"./BXLN-2ti.js";import{_ as G}from"./C0Kuc3g1.js";import{d as k,c as i,o as s,e as r,aj as M,t as m,H as P,f as V,j as z,k as A,l as n,m as a,u as e,q as E,b as T,n as F,g as H,w as b,F as $,a as L}from"./DZ2khTnM.js";import{_ as q}from"./BY0E9GD9.js";import{d as I}from"./CPAmBVur.js";import{g as J}from"./8G3UIhLy.js";import{d as K}from"./ag4DBlC9.js";import{u as O}from"./DDT-kY3b.js";import{u as Q}from"./BgF1Ijsv.js";import h from"./DMYLz6t7.js";import"./CIBVQf5O.js";const U={class:"item p-0 pr-6"},W={class:"flex gap-2.5 items-center"},X=k({__name:"PeopleComponent",props:{user:{}},setup(C){return(u,l)=>(s(),i("div",U,[r("div",W,[l[0]||(l[0]=r("div",{class:"rounded-full h-14 w-14 bg-gray-500"},null,-1)),r("p",null,m(u.user.username),1)]),M(u.$slots,"default")]))}}),Y={key:1,class:"flex flex-col items-center gap-10"},Z={class:"flex flex-col md:flex-row gap-2 justify-between w-full"},ee={class:"flex flex-col gap-2"},oe={class:"flex gap-3 items-end"},te={class:"font-bold text-4xl"},se={key:0},re={class:"flex flex-wrap items-center gap-3"},ae={class:"grid gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3"},ve=k({__name:"index",setup(C){var f,_,g,v,y;const u=P(),{group_id:l,expense_id:w}=u.params,D=V(),{group:t}=z(A()),{expense:o}=Q();return O({title:`Créer une dépense dans ${(f=t.value)==null?void 0:f.name}`,description:`Ajoutez une nouvelle dépense au groupe ${(_=t.value)==null?void 0:_.name} pour mieux gérer votre budget.`,ogTitle:`Nouvelle dépense - ${(g=t.value)==null?void 0:g.name}`,ogDescription:`Page de création d'une dépense pour le groupe ${(v=t.value)==null?void 0:v.name}.`,image:((y=t.value)==null?void 0:y.picture)??void 0}),(p,c)=>{var x;const S=j,B=G,N=X,R=q;return s(),i($,null,[e(t)?(s(),n(S,{key:0,label:((x=e(o))==null?void 0:x.title)??"error",color:e(t).color,to:`/groups/${e(l)}`},null,8,["label","color","to"])):a("",!0),e(o)&&e(t)?(s(),i("div",Y,[r("div",Z,[r("div",ee,[r("div",oe,[r("p",te,m(e(o).amount)+" €",1),e(o).spentAt?(s(),i("p",se,[c[1]||(c[1]=r("i",{class:"pi pi-calendar mr-1"},null,-1)),E(m(("formatDayMonth"in p?p.formatDayMonth:e(I))(new Date(e(o).spentAt))),1)])):a("",!0)]),r("div",re,[e(o).category.label!=="default"?(s(),n(B,{key:0,category:e(o).category},null,8,["category"])):a("",!0),T(e(h),{label:e(o).creator.username,image:e(o).creator.picture??e(K)},null,8,["label","image"]),e(o).recurring?(s(),n(e(h),{key:1,icon:"pi pi-replay",label:"Dépense récurrente"})):a("",!0)])]),e(t).userRole!=="viewer"&&e(t).userRole!=="banned"?(s(),n(e(H),{key:0,icon:"pi pi-pencil",label:"Edition",size:"small",class:F([[("getGroupColor"in p?p.getGroupColor:e(J))({color:e(t).color})],"h-fit w-fit"]),onClick:c[0]||(c[0]=d=>e(D).push(`/groups/${e(l)}/expense/${e(w)}/edit`))},null,8,["class"])):a("",!0)]),e(o).participants?(s(),n(R,{key:0,label:"Participants",class:"w-full"},{default:b(()=>[r("div",ae,[(s(!0),i($,null,L(e(o).participants,d=>(s(),n(N,{key:d.id,user:d},{default:b(()=>[r("p",null,m(e(o).amount/e(o).participants.length)+" €",1)]),_:2},1032,["user"]))),128))])]),_:1})):a("",!0)])):a("",!0)],64)}}});export{ve as default};
