import{$ as G,Y as w,g as F,q as a}from"./9_oEEP4X.js";const f=t=>{const{postGroup:s,editGroup:i,deleteGroup:c,uploadFile:l}=G(),d=w(),u=async()=>{await Promise.all([d.invalidateQueries({queryKey:["groups-by-user"]})])},n=F(),p=a({mutationFn:e=>s(e),onSuccess:async()=>{await u(),n.push({name:"groups"})}}),m=a({mutationFn:e=>{var r;return(r=t==null?void 0:t.value)!=null&&r.id?i(t.value.id,e):Promise.reject(new Error("ID du groupe manquant"))},onSuccess:async()=>{await u(),n.push({name:"groups"})}}),y=a({mutationFn:()=>{var e;return(e=t.value)!=null&&e.id?c(t.value.id):Promise.reject(new Error("ID du groupe manquant"))},onSuccess:async()=>{await u(),n.push({name:"groups"})}}),v=a({mutationFn:async e=>{var o;const r=new FormData;return r.append("picture",e),l(Number((o=t.value)==null?void 0:o.id),r)},onSuccess:async()=>{await u()},onError:e=>{console.error("Upload failed",e),alert("Erreur lors de l'upload")}});return{createGroupMutation:p,editGroupMutation:m,deleteGroupMutation:y,uploadCoverGroupMutation:v}};export{f as u};
