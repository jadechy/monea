import{_ as g}from"./Ct2Kg15V.js";import x from"./Bf58b6f9.js";import v from"./BL4tBkbp.js";import k from"./BQuv8gv2.js";import"./D0fJx_nL.js";import{d as b,f as A,v as C,x as y,c as R,e as s,b as t,w as o,u as p,F as M,y as N,p as h,o as j,g as B,q as l}from"./DZ2khTnM.js";import"./xFnIkFpr.js";import"./6sD3ePS7.js";import"./BpxfxKT9.js";import"./CLs7nh7g.js";import"./DQrM28XS.js";import"./DSLqX1Hy.js";import"./Cnm4LbfB.js";import"./Hbwuj-1z.js";import"./BO-eBnTB.js";import"./N6u5SXv9.js";import"./BCFG6or-.js";const F={class:"flex flex-col items-center gap-0.5"},U=b({__name:"reset",setup(L){const c=N(),d=A(),{reset:f}=C(),_=y({mutationFn:n=>f(n),onSuccess:()=>{d.push({name:"auth-login"})}}),w=async n=>{if(!n.valid)return;const e=n.states.password.value,r=n.states.passwordConfirm.value;if(e!==r){alert("Les mots de passe ne correspondent pas.");return}const a=c.query.resetToken;_.mutate({password:e,repeatPassword:r,resetToken:a})};return(n,e)=>{const r=v,a=x,u=g,i=h("RouterLink");return j(),R(M,null,[e[5]||(e[5]=s("h2",{class:"text-center text-4xl mb-14"}," Réinitialisation de votre mot de passe ",-1)),t(p(k),{class:"flex flex-col md:w-1/2 mx-5 md:mx-auto gap-6 items-center",onSubmit:w},{default:o(m=>[t(u,{form:m,name:"password",placeholder:"Nouveau mot de passe"},{footer:o(()=>[t(a),e[0]||(e[0]=s("ul",{class:"pl-2 my-0 leading-normal"},[s("li",null,"Au moins une majuscule"),s("li",null,"Au moins une minuscule"),s("li",null,"Au moins un chiffre"),s("li",null,"Minimum 8 caractères")],-1))]),default:o(()=>[t(r,{name:"password",class:"w-full","toggle-mask":"",fluid:"",feedback:!1,"input-props":{autocomplete:"new-password"}})]),_:2},1032,["form"]),t(u,{form:m,name:"passwordConfirm",placeholder:"Confirme ton mot de passe"},{footer:o(()=>[t(a),e[1]||(e[1]=s("ul",{class:"pl-2 my-0 leading-normal"},[s("li",null,"Au moins une majuscule"),s("li",null,"Au moins une minuscule"),s("li",null,"Au moins un chiffre"),s("li",null,"Minimum 8 caractères")],-1))]),default:o(()=>[t(r,{name:"passwordConfirm",class:"w-full","toggle-mask":"",fluid:"",feedback:!1,"input-props":{autocomplete:"new-password"}})]),_:2},1032,["form"]),s("div",F,[t(p(B),{type:"submit",class:"w-fit"},{default:o(()=>e[2]||(e[2]=[l("Enregistrer",-1)])),_:1,__:[2]}),t(i,{to:{name:"auth-login"},class:"hover:underline"},{default:o(()=>e[3]||(e[3]=[l("Déjà un compte",-1)])),_:1,__:[3]}),t(i,{to:{name:"auth-register"},class:"hover:underline"},{default:o(()=>e[4]||(e[4]=[l("Pas encore de compte",-1)])),_:1,__:[4]})])]),_:1})],64)}}});export{U as default};
