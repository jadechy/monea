import{_ as k}from"./CVwwVM1L.js";import{_ as x}from"./Ca2FGNrf.js";import{_ as y}from"./DGr0P_sG.js";import h from"./CAseemDN.js";import"./C_ygJkaK.js";import{h as b}from"./HNDTOkeZ.js";import{e as C,G as R,i as M,c as P,a as s,b as o,w as n,u as r,R as j,F as N,m as S,o as f,k as T,l as q,d as u}from"./B4C1c3y9.js";import{u as z}from"./C45g08Ar.js";import A from"./AxJl-wT4.js";import _ from"./XmFS_t4Y.js";import B from"./BzjKE1W3.js";import I from"./3rI856ft.js";import V from"./CDF5jS1J.js";import"./GLQTXrRA.js";import"./BP-om_zl.js";import"./Drkg7K07.js";import"./yOe6c3TM.js";import"./ZhWAdK_X.js";import"./BbMESLM0.js";import"./C1pTgOiJ.js";import"./CLs7nh7g.js";import"./Sx2Q1i01.js";import"./DGOriwfr.js";import"./BG6yOVPh.js";import"./wgfyke9o.js";import"./DD9exzw8.js";import"./BTinR4uF.js";import"./DFCF-WRp.js";import"./DFRwXp6x.js";import"./CG7fiWaA.js";import"./B-SteLpu.js";import"./jc0MLXVe.js";import"./DkACu0gZ.js";import"./FS8s-9Kc.js";import"./DfIvkuC_.js";import"./DDRO_9ox.js";const F={class:"flex justify-center"},L={class:"flex flex-col items-center gap-0.5"},be=C({__name:"register",setup(D){const w=R(),{registerMutation:v}=M(),g=async l=>{if(!l.valid)return;const e=Object.entries(l.states).reduce((a,[i,p])=>{const t=i;return a[t]=p.value,a},{});if(e.password!==e.confirmPassword)return;const m=w.query.invitationToken;m&&(e.invitationToken=m),v.mutate(e)};return z({title:"Créer un compte",description:"Inscrivez-vous sur Monéa pour commencer à gérer facilement vos budgets et vos dépenses.",ogTitle:"Création de compte Monéa",ogDescription:"Rejoignez Monéa et prenez le contrôle de vos finances en quelques clics."}),(l,e)=>{const m=k,a=x,i=y,p=S("RouterLink");return f(),P(N,null,[e[4]||(e[4]=s("h2",{class:"text-center text-4xl mb-14"},"Inscription",-1)),o(r(h),{resolver:r(b)(r(j)),class:"flex flex-col md:w-1/2 mx-5 md:mx-auto gap-6 items-center",onSubmit:g},{default:n(t=>[s("div",F,[o(m)]),o(a,{name:"lastname",placeholder:"Nom",form:t},null,8,["form"]),o(a,{name:"name",placeholder:"Prénom",form:t},null,8,["form"]),o(i,{name:"birthday",placeholder:"Date de naissance",form:t},{default:n(()=>[o(r(A),{"date-format":"dd/mm/yy","show-icon":"",fluid:"",name:"birthday",class:"w-full","icon-display":"input"})]),_:2},1032,["form"]),o(a,{name:"email",placeholder:"Email",type:"email",form:t,autocomplete:"email"},null,8,["form"]),o(a,{name:"username",placeholder:"Pseudonyme",form:t,autocomplete:"username"},null,8,["form"]),o(i,{name:"password",placeholder:"Mot de passe",form:t},{default:n(()=>[o(r(_),{placeholder:"Mot de passe",name:"password","toggle-mask":"",fluid:"",class:"w-full","input-props":{autocomplete:"new-password"}},{footer:n(()=>[o(r(B)),e[0]||(e[0]=s("ul",{class:"pl-2 my-0 leading-normal"},[s("li",null,"Au moins une majuscule"),s("li",null,"Au moins une minuscule"),s("li",null,"Au moins un chiffre"),s("li",null,"Minimum 8 caractères")],-1))]),_:1})]),_:2},1032,["form"]),o(i,{form:t,name:"confirmPassword",placeholder:"Confirmation mot de passe"},{default:n(()=>{var c,d;return[o(r(_),{name:"confirmPassword",placeholder:"Confirmation mot de passe",fluid:"",class:"w-full",feedback:!1,"toggle-mask":"","input-props":{autocomplete:"new-password"}}),(c=t.confirmPassword)!=null&&c.value&&((d=t.password)!=null&&d.value)&&t.confirmPassword.value!==t.password.value?(f(),T(r(I),{key:0,severity:"error",size:"small"},{default:n(()=>e[1]||(e[1]=[u(" Les mots de passe ne correspondent pas ")])),_:1,__:[1]})):q("",!0)]}),_:2},1032,["form"]),s("div",L,[o(r(V),{type:"submit",class:"w-fit"},{default:n(()=>e[2]||(e[2]=[u("S'inscrire")])),_:1,__:[2]}),o(p,{to:{name:"auth-login"},class:"hover:underline"},{default:n(()=>e[3]||(e[3]=[u("J'ai déjà un compte")])),_:1,__:[3]})])]),_:1},8,["resolver"])],64)}}});export{be as default};
