import x from"./BNuFmWGi.js";import"./BKkSeoc7.js";import{h as y}from"./DPMN8cp0.js";import{e as b,g as M,p as R,q as C,c as P,a as s,b as o,w as a,u as r,R as S,F as j,v as q,m as N,o as d,k as T,l as z,d as u}from"./DIPFmy-v.js";import{_ as c}from"./CYJ52WXx.js";import{_ as p}from"./BzUrPLfO.js";import{_ as A}from"./D_e-2MzW.js";import{u as B}from"./BHQ_9aDK.js";import V from"./6oUwzFBh.js";import f from"./Db3Bpxue.js";import F from"./MA8Q7GA3.js";import L from"./B9EJQSTf.js";import D from"./BmRJgn3N.js";import"./BVgkDWEn.js";import"./CJUcSvfp.js";import"./BZFGTD8C.js";import"./B6NbFv2A.js";import"./O6O1r6a4.js";import"./ZhWAdK_X.js";import"./CmTubat5.js";import"./CLs7nh7g.js";import"./Czxr1nYZ.js";import"./Df5vyCdq.js";import"./ClMx_GTH.js";import"./9C6sXGGo.js";import"./CtjsfWZP.js";import"./DWkBB3RK.js";import"./BObQDylZ.js";import"./BXhfHGud.js";import"./BeJWclAO.js";import"./CdE3wk_g.js";import"./jc0MLXVe.js";import"./Bl7VVRXG.js";import"./Bhal5AHG.js";import"./WhPbpioh.js";import"./B-FWTQXe.js";const E={class:"flex justify-center"},I={class:"flex flex-col items-center gap-0.5"},Re=b({__name:"register",setup(J){const _=q(),v=M(),{register:w}=R(),g=C({mutationFn:i=>w(i),onSuccess:()=>{v.push({name:"auth-confirm"})}}),h=async i=>{if(!i.valid)return;const e=Object.entries(i.states).reduce((t,[m,l])=>{const k=m;return t[k]=l.value,t},{});if(e.password!==e.confirmPassword)return;const n=_.query.invitationToken;n&&(e.invitationToken=n),g.mutate(e)};return B({title:"Créer un compte - Monéa",description:"Inscrivez-vous sur Monéa pour commencer à gérer facilement vos budgets et vos dépenses.",ogTitle:"Création de compte Monéa",ogDescription:"Rejoignez Monéa et prenez le contrôle de vos finances en quelques clics."}),(i,e)=>{const n=N("RouterLink");return d(),P(j,null,[e[4]||(e[4]=s("h2",{class:"text-center text-4xl mb-14"},"Inscription",-1)),o(r(x),{resolver:r(y)(r(S)),class:"flex flex-col md:w-1/2 mx-5 md:mx-auto gap-6 items-center",onSubmit:h},{default:a(t=>[s("div",E,[o(A)]),o(p,{name:"lastname",placeholder:"Nom",form:t},null,8,["form"]),o(p,{name:"name",placeholder:"Prénom",form:t},null,8,["form"]),o(c,{name:"birthday",placeholder:"Date de naissance",form:t},{default:a(()=>[o(r(V),{"date-format":"dd/mm/yy","show-icon":"",fluid:"",name:"birthday",class:"w-full","icon-display":"input"})]),_:2},1032,["form"]),o(p,{name:"email",placeholder:"Email",type:"email",form:t,autocomplete:"email"},null,8,["form"]),o(p,{name:"username",placeholder:"Pseudonyme",form:t,autocomplete:"username"},null,8,["form"]),o(c,{name:"password",placeholder:"Mot de passe",form:t},{default:a(()=>[o(r(f),{placeholder:"Mot de passe",name:"password","toggle-mask":"",fluid:"",class:"w-full","input-props":{autocomplete:"new-password"}},{footer:a(()=>[o(r(F)),e[0]||(e[0]=s("ul",{class:"pl-2 my-0 leading-normal"},[s("li",null,"Au moins une majuscule"),s("li",null,"Au moins une minuscule"),s("li",null,"Au moins un chiffre"),s("li",null,"Minimum 8 caractères")],-1))]),_:1})]),_:2},1032,["form"]),o(c,{form:t,name:"confirmPassword",placeholder:"Confirmation mot de passe"},{default:a(()=>{var m,l;return[o(r(f),{name:"confirmPassword",placeholder:"Confirmation mot de passe",fluid:"",class:"w-full",feedback:!1,"toggle-mask":"","input-props":{autocomplete:"new-password"}}),(m=t.confirmPassword)!=null&&m.value&&((l=t.password)!=null&&l.value)&&t.confirmPassword.value!==t.password.value?(d(),T(r(L),{key:0,severity:"error",size:"small"},{default:a(()=>e[1]||(e[1]=[u(" Les mots de passe ne correspondent pas ")])),_:1,__:[1]})):z("",!0)]}),_:2},1032,["form"]),s("div",I,[o(r(D),{type:"submit",class:"w-fit"},{default:a(()=>e[2]||(e[2]=[u("S'inscrire")])),_:1,__:[2]}),o(n,{to:{name:"auth-login"},class:"hover:underline"},{default:a(()=>e[3]||(e[3]=[u("J'ai déjà un compte")])),_:1,__:[3]})])]),_:1},8,["resolver"])],64)}}});export{Re as default};
