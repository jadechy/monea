import{a0 as G,Z as w,g as F,q as u}from"./CNJ8szB1.js";const f=t=>{const{postGroup:s,editGroup:i,deleteGroup:c,uploadFile:l}=G(),d=w(),a=async()=>{await Promise.all([d.invalidateQueries({queryKey:["groups-by-user"]})])},n=F(),p=u({mutationFn:e=>s(e),onSuccess:async()=>{await a(),n.push({name:"groups"})}}),m=u({mutationFn:e=>{var r;return(r=t==null?void 0:t.value)!=null&&r.id?i(t.value.id,e):Promise.reject(new Error("ID du groupe manquant"))},onSuccess:async()=>{await a(),n.push({name:"groups"})}}),y=u({mutationFn:()=>{var e;return(e=t.value)!=null&&e.id?c(t.value.id):Promise.reject(new Error("ID du groupe manquant"))},onSuccess:async()=>{await a(),n.push({name:"groups"})}}),v=u({mutationFn:async e=>{var o;const r=new FormData;return r.append("picture",e),l(Number((o=t.value)==null?void 0:o.id),r)},onSuccess:async()=>{await a()},onError:e=>{console.error("Upload failed",e),alert("Erreur lors de l'upload")}});return{createGroupMutation:p,editGroupMutation:m,deleteGroupMutation:y,uploadCoverGroupMutation:v}};export{f as u};
