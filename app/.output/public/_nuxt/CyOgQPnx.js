import{_ as S}from"./BXLN-2ti.js";import{h as B,_ as V}from"./xNRdtxRc.js";import{_ as q}from"./DXX4Ru4T.js";import{_ as F}from"./CSHvLOsw.js";import{_ as O}from"./BY0E9GD9.js";import{_ as I}from"./CoXhPUzJ.js";import{d as L}from"./CPAmBVur.js";import{g as u}from"./8G3UIhLy.js";import{d as P,H as T,j as U,k as J,r as K,M as Q,f as W,c as n,b as p,m as l,l as i,u as e,e as h,n as m,g as d,F as f,a as w,o as s,w as X}from"./DZ2khTnM.js";import{u as Y}from"./DLU0dq0J.js";const Z={key:0,class:"flex flex-col gap-10"},ee={class:"flex flex-col gap-2 sm:flex-row justify-between items-center"},oe={key:0},se={class:"grid gap-6 grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"},ae={key:1},fe=P({__name:"AllExpensesDisplay",props:{haveCategory:{type:Boolean},actionButton:{type:Boolean},subHeader:{},expensesDate:{},category:{}},setup(x){const R=T(),{group:o}=U(J()),g=K(null),D=x,_=Q(()=>D.expensesDate??{}),y=W(),{uploadCoverGroupMutation:H}=Y(o);return(a,t)=>{var b,k,v,C;const E=S,M=V,j=q,z=F,A=O,G=I;return s(),n(f,null,[p(E,{label:a.subHeader.label,color:(b=a.subHeader)==null?void 0:b.color,to:a.subHeader.to,params:a.subHeader.params},null,8,["label","color","to","params"]),e(o)?(s(),n("div",Z,[h("div",ee,[p(M,{category:a.category},null,8,["category"]),a.actionButton?(s(),n("div",oe,[p(e(d),{icon:"pi pi-eye",label:"Budget",size:"small",class:m([e(u)({color:(k=e(o))==null?void 0:k.color})]),onClick:t[0]||(t[0]=r=>e(y).push(`/groups/${e(o).id}/budget`))},null,8,["class"]),e(B)(e(o))?(s(),i(e(d),{key:0,icon:"pi pi-pencil",label:"Edition",size:"small",class:m(["mx-2",[e(u)({color:(v=e(o))==null?void 0:v.color})]]),onClick:t[1]||(t[1]=r=>e(y).push(`/groups/${e(o).id}/edit`))},null,8,["class"])):l("",!0),e(B)(e(o))&&e(o).type!=="personnal"?(s(),i(e(d),{key:1,icon:"pi pi-download",label:"Cover",size:"small",class:m([e(u)({color:(C=e(o))==null?void 0:C.color})]),onClick:t[2]||(t[2]=r=>{var c;return(c=e(g))==null?void 0:c.open()})},null,8,["class"])):l("",!0)])):l("",!0),p(j,{ref_key:"dialogRef",ref:g,"upload-fn":r=>e(H).mutateAsync(r),label:"Modifier la cover du groupe."},null,8,["upload-fn"])]),Object.keys(_.value).length>0?(s(!0),n(f,{key:0},w(Object.entries(_.value),([r,c],N)=>(s(),i(A,{key:N,label:e(L)(new Date(r))},{default:X(()=>[h("div",se,[(s(!0),n(f,null,w(c,$=>(s(),i(z,{key:$.id,"group-id":e(o).id,expense:$},null,8,["group-id","expense"]))),128))])]),_:2},1032,["label"]))),128)):(s(),n("p",ae,"Créer votre première dépense !"))])):l("",!0),e(o)&&e(o).userRole!=="viewer"&&e(o).userRole!=="banned"?(s(),i(G,{key:1,to:`${e(R).path}/expense/new`,class:m([e(u)({color:e(o).color})]),query:{...a.category?{category:a.category.id}:{category:0}}},null,8,["to","class","query"])):l("",!0)],64)}}});export{fe as _};
