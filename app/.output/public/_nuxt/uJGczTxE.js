import{d as B,c as j,o as a,e as t,n as u,t as r,j as w,i as M,k as T,f as V,r as U,l as d,w as O,m as f,b as i,u as o,g as q,z as F}from"./DZ2khTnM.js";import{_ as H}from"./DXX4Ru4T.js";import{_ as J}from"./B5QTIg_o.js";import{f as A}from"./CPAmBVur.js";import{g as L}from"./8G3UIhLy.js";import{d as K}from"./ag4DBlC9.js";import{u as Q}from"./DDT-kY3b.js";import"./TXMTIP3v.js";import"./DVmtu6K0.js";import"./BpxfxKT9.js";import"./6sD3ePS7.js";import"./Ba_vGupS.js";import"./yCPM-K_V.js";import"./CLs7nh7g.js";import"./Dyiww4Ct.js";import"./BCFG6or-.js";import"./UllZlc1N.js";const W={class:"shadow rounded-lg p-4"},X={class:"flex gap-1 items-center text-lg font-semibold"},Y=B({__name:"CardProfil",props:{label:{},content:{},icon:{}},setup(E){return(e,p)=>(a(),j("div",W,[t("div",X,[t("i",{class:u(["pi stroke-2 mr-2",[e.icon]])},null,2),t("p",null,r(e.label),1)]),t("p",null,r(e.content),1)]))}}),Z={key:0,class:"flex flex-col justify-center items-center"},oo={class:"relative"},eo=["src"],to={class:"text-sm mt-3"},so={class:"font-bold"},no={class:"mt-1"},ro={class:"flex flex-col md:flex-row w-full lg:max-w-3/4 gap-8 mt-12"},lo={class:"flex justify-center mt-10"},$o=B({__name:"index",setup(E){var g;const{user:e}=w(M()),{personnalGroup:p}=w(T()),m=V(),{clearAuth:P,uploadPicture:R}=M(),{trackMatomoEvent:S}=F(),_=U(null);return Q({title:"Mon profil",description:"Consultez et modifiez les informations de votre profil utilisateur pour personnaliser votre expérience sur MonApp.",ogTitle:"Profil utilisateur",ogDescription:"Gérez vos informations personnelles et paramètres de compte depuis votre profil Monea.",image:((g=e.value)==null?void 0:g.picture)??void 0}),(s,n)=>{const c=q,v=Y,I=H,N=J;return a(),d(N,null,{default:O(()=>{var b,h,C,k,y,x,D,$,z;return[o(e)?(a(),j("div",Z,[t("div",oo,[t("img",{src:o(e).picture??o(K),class:"rounded-full w-32 h-32 bg-gray-100 object-cover"},null,8,eo),o(e).googleId?f("",!0):(a(),d(c,{key:0,icon:"pi pi-pencil",size:"small",class:"absolute right-0 top-0",onClick:n[0]||(n[0]=l=>{var G;return(G=o(_))==null?void 0:G.open()})}))]),t("p",to," Membre depuis le "+r(("formatLongDate"in s?s.formatLongDate:o(A))(o(e).createdAt)),1),t("p",{class:u(["text-2xl font-bold",[`text-${(b=o(p))==null?void 0:b.color}-700`]])},r((h=o(e))==null?void 0:h.name)+" "+r((C=o(e))==null?void 0:C.lastname),3),t("p",so,r((k=o(e))==null?void 0:k.username),1),t("div",no,[i(c,{icon:"pi pi-eye",label:"Invitation",class:u(["mr-2",[("getGroupColor"in s?s.getGroupColor:o(L))({color:(y=o(p))==null?void 0:y.color})]]),size:"small",onClick:n[1]||(n[1]=l=>o(m).push("/user/invitation"))},null,8,["class"]),i(c,{icon:"pi pi-pencil",label:"Edition",size:"small",class:u([("getGroupColor"in s?s.getGroupColor:o(L))({color:(x=o(p))==null?void 0:x.color})]),onClick:n[2]||(n[2]=l=>o(m).push("/user/edit"))},null,8,["class"])])])):f("",!0),t("div",ro,[i(v,{icon:"pi-inbox",label:"Email",content:(D=o(e))==null?void 0:D.email},null,8,["content"]),($=o(e))!=null&&$.birthday?(a(),d(v,{key:0,icon:"pi-gift",label:"Anniversaire",content:("formatLongDate"in s?s.formatLongDate:o(A))((z=o(e))==null?void 0:z.birthday)},null,8,["content"])):f("",!0)]),t("div",lo,[i(c,{label:"Deconnexion",severity:"danger",variant:"outlined",onClick:n[3]||(n[3]=l=>(o(P)(),o(S)("User","Logout","logout_user"),o(m).push({name:"auth-login"})))})]),i(I,{ref_key:"dialogRef",ref:_,"upload-fn":l=>o(R).mutateAsync(l),label:"Modifier la photo de profil"},null,8,["upload-fn"])]}),_:1})}}});export{$o as default};
