import{_ as R}from"./D-QH4Wn2.js";import{_ as G}from"./PnrHXTQa.js";import{e as k,c as i,o as r,a as s,ad as M,t as m,P as V,g as j,s as z,j as A,k as n,l as a,u as e,d as E,b as T,n as F,w as b,F as $,f as L}from"./DrJXerId.js";import{_ as H}from"./BOfd2PDj.js";import{d as q}from"./CPAmBVur.js";import{g as I}from"./8G3UIhLy.js";import{d as J}from"./ag4DBlC9.js";import{u as K}from"./BZxOlZYc.js";import{u as O}from"./CMmhXMeH.js";import h from"./BR3oYnmQ.js";import Q from"./BgkWlaQ2.js";import"./DpZJTOLv.js";import"./CcV-EP-q.js";import"./DqNSWbbH.js";import"./BpAAe-1L.js";import"./ZhWAdK_X.js";import"./DnrMt6XD.js";import"./DnNiQNc-.js";import"./BPvQVBk-.js";import"./B4rtYYsy.js";import"./jc0MLXVe.js";const U={class:"item p-0 pr-6"},W={class:"flex gap-2.5 items-center"},X=k({__name:"PeopleComponent",props:{user:{}},setup(C){return(p,l)=>(r(),i("div",U,[s("div",W,[l[0]||(l[0]=s("div",{class:"rounded-full h-14 w-14 bg-gray-500"},null,-1)),s("p",null,m(p.user.username),1)]),M(p.$slots,"default")]))}}),Y={key:1,class:"flex flex-col items-center gap-10"},Z={class:"flex flex-col md:flex-row gap-2 justify-between w-full"},ee={class:"flex flex-col gap-2"},oe={class:"flex gap-3 items-end"},te={class:"font-bold text-4xl"},re={key:0},se={class:"flex flex-wrap items-center gap-3"},ae={class:"grid gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3"},Se=k({__name:"index",setup(C){var f,_,g,v,y;const p=V(),{group_id:l,expense_id:w}=p.params,D=j(),{group:t}=z(A()),{expense:o}=O();return K({title:`Créer une dépense dans ${(f=t.value)==null?void 0:f.name}`,description:`Ajoutez une nouvelle dépense au groupe ${(_=t.value)==null?void 0:_.name} pour mieux gérer votre budget.`,ogTitle:`Nouvelle dépense - ${(g=t.value)==null?void 0:g.name}`,ogDescription:`Page de création d'une dépense pour le groupe ${(v=t.value)==null?void 0:v.name}.`,image:((y=t.value)==null?void 0:y.picture)??void 0}),(u,c)=>{var x;const S=R,B=G,N=X,P=H;return r(),i($,null,[e(t)?(r(),n(S,{key:0,label:((x=e(o))==null?void 0:x.title)??"error",color:e(t).color,to:`/groups/${e(l)}`},null,8,["label","color","to"])):a("",!0),e(o)&&e(t)?(r(),i("div",Y,[s("div",Z,[s("div",ee,[s("div",oe,[s("p",te,m(e(o).amount)+" €",1),e(o).spentAt?(r(),i("p",re,[c[1]||(c[1]=s("i",{class:"pi pi-calendar mr-1"},null,-1)),E(m(("formatDayMonth"in u?u.formatDayMonth:e(q))(new Date(e(o).spentAt))),1)])):a("",!0)]),s("div",se,[e(o).category.label!=="default"?(r(),n(B,{key:0,category:e(o).category},null,8,["category"])):a("",!0),T(e(h),{label:e(o).creator.username,image:e(o).creator.picture??e(J)},null,8,["label","image"]),e(o).recurring?(r(),n(e(h),{key:1,icon:"pi pi-replay",label:"Dépense récurrente"})):a("",!0)])]),e(t).userRole!=="viewer"&&e(t).userRole!=="banned"?(r(),n(e(Q),{key:0,icon:"pi pi-pencil",label:"Edition",size:"small",class:F([[("getGroupColor"in u?u.getGroupColor:e(I))({color:e(t).color})],"h-fit w-fit"]),onClick:c[0]||(c[0]=d=>e(D).push(`/groups/${e(l)}/expense/${e(w)}/edit`))},null,8,["class"])):a("",!0)]),e(o).participants?(r(),n(P,{key:0,label:"Participants",class:"w-full"},{default:b(()=>[s("div",ae,[(r(!0),i($,null,L(e(o).participants,d=>(r(),n(N,{key:d.id,user:d},{default:b(()=>[s("p",null,m(e(o).amount/e(o).participants.length)+" €",1)]),_:2},1032,["user"]))),128))])]),_:1})):a("",!0)])):a("",!0)],64)}}});export{Se as default};
