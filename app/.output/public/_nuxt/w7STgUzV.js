import{e as h,c as d,o as a,a as t,t as n,n as c,s as I,j as R,k as q,g as F,r as H,l as v,w as J,m as u,b as s,u as o}from"./EKjwmu4X.js";import{_ as K}from"./B3nIDhO3.js";import{_ as Q}from"./B1ZAUYzk.js";import{f as S}from"./CPAmBVur.js";import{g as N}from"./8G3UIhLy.js";import W from"./CmySksWD.js";import{d as X}from"./ag4DBlC9.js";import{u as Y}from"./9cFPbx9-.js";import"./DDkzpiBD.js";import"./DgEKtv-i.js";import"./BvNSvTB1.js";import"./DiAjKAwH.js";import"./hquyow-S.js";import"./Ct_YkEU2.js";import"./BmOpcpC3.js";import"./Dqon5DMq.js";import"./jc0MLXVe.js";import"./ZhWAdK_X.js";import"./Bu2EK9l1.js";import"./CizPGRaz.js";import"./WA78xVwC.js";import"./CLs7nh7g.js";import"./BWWOaclb.js";import"./yczKQwiS.js";import"./blA6weYC.js";import"./TWS-w1EI.js";import"./qSTTT7Tw.js";const Z={class:"flex flex-col items-center gap-0"},oo={class:"text-center"},eo=h({__name:"InfoProfil",props:{label:{},stat:{},color:{}},setup(C){return(e,f)=>(a(),d("div",Z,[t("p",{class:c(["text-3xl font-semibold",[`text-${e.color}-700`]])},n(e.stat),3),t("p",oo,n(e.label),1)]))}}),to={class:"shadow rounded-lg p-4"},so={class:"flex gap-1 items-center text-lg font-semibold"},ro=h({__name:"CardProfil",props:{label:{},content:{},icon:{}},setup(C){return(e,f)=>(a(),d("div",to,[t("div",so,[t("i",{class:c(["pi stroke-2 mr-2",[e.icon]])},null,2),t("p",null,n(e.label),1)]),t("p",null,n(e.content),1)]))}}),lo={key:0,class:"flex flex-col justify-center items-center"},no={class:"relative"},io=["src"],ao={class:"text-sm mt-3"},po={class:"font-bold"},co={class:"mt-1"},mo={key:1,class:"grid grid-cols-3 gap-4 mt-12"},uo={class:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12"},fo={class:"flex justify-center mt-10"},Oo=h({__name:"index",setup(C){var k;const{user:e}=I(R()),{groupsCount:f,personnalGroup:i}=I(q()),_=F(),{clearAuth:T,uploadPicture:V}=R(),y=H(null);return Y({title:"Mon profil",description:"Consultez et modifiez les informations de votre profil utilisateur pour personnaliser votre expérience sur MonApp.",ogTitle:"Profil utilisateur",ogDescription:"Gérez vos informations personnelles et paramètres de compte depuis votre profil Monea.",image:((k=e.value)==null?void 0:k.picture)??void 0}),(r,l)=>{const m=W,g=eo,b=ro,O=K,U=Q;return a(),v(U,null,{default:J(()=>{var $,x,D,G,z,A,P,B,L,M,j,w;return[o(e)?(a(),d("div",lo,[t("div",no,[t("img",{src:o(e).picture??o(X),class:"rounded-full w-32 h-32 bg-gray-100 object-cover"},null,8,io),o(e).googleId?u("",!0):(a(),v(m,{key:0,icon:"pi pi-pencil",size:"small",class:"absolute right-0 top-0",onClick:l[0]||(l[0]=p=>{var E;return(E=o(y))==null?void 0:E.open()})}))]),t("p",ao," Membre depuis le "+n(("formatLongDate"in r?r.formatLongDate:o(S))(o(e).createdAt)),1),t("p",{class:c(["text-2xl font-bold",[`text-${($=o(i))==null?void 0:$.color}-700`]])},n((x=o(e))==null?void 0:x.name)+" "+n((D=o(e))==null?void 0:D.lastname),3),t("p",po,n((G=o(e))==null?void 0:G.username),1),t("div",co,[s(m,{icon:"pi pi-eye",label:"Epargne",class:c(["mr-2",[("getGroupColor"in r?r.getGroupColor:o(N))({color:(z=o(i))==null?void 0:z.color})]]),size:"small",onClick:l[1]||(l[1]=p=>o(_).push("/savings"))},null,8,["class"]),s(m,{icon:"pi pi-pencil",label:"Edition",size:"small",class:c([("getGroupColor"in r?r.getGroupColor:o(N))({color:(A=o(i))==null?void 0:A.color})]),onClick:l[2]||(l[2]=p=>o(_).push("/user/edit"))},null,8,["class"])])])):u("",!0),o(i)?(a(),d("div",mo,[s(g,{label:"groupes membres",stat:`${o(f)}`,color:(P=o(i))==null?void 0:P.color},null,8,["stat","color"]),s(g,{label:"dépensés",stat:"304 €",color:(B=o(i))==null?void 0:B.color},null,8,["color"]),s(g,{label:"groupes créés",stat:"8",color:(L=o(i))==null?void 0:L.color},null,8,["color"])])):u("",!0),t("div",uo,[s(b,{icon:"pi-inbox",label:"Email",content:(M=o(e))==null?void 0:M.email},null,8,["content"]),s(b,{icon:"pi-phone",label:"Téléphone",content:"07 83 05 89 63"}),(j=o(e))!=null&&j.birthday?(a(),v(b,{key:0,icon:"pi-gift",label:"Anniversaire",content:("formatLongDate"in r?r.formatLongDate:o(S))((w=o(e))==null?void 0:w.birthday)},null,8,["content"])):u("",!0)]),t("div",fo,[s(m,{label:"Deconnexion",severity:"danger",variant:"outlined",onClick:l[3]||(l[3]=p=>(o(T)(),o(_).push({name:"auth-login"})))})]),s(O,{ref_key:"dialogRef",ref:y,"upload-fn":p=>o(V).mutateAsync(p),label:"Modifier la photo de profil"},null,8,["upload-fn"])]}),_:1})}}});export{Oo as default};
