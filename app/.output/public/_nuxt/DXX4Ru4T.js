import k from"./TXMTIP3v.js";import w from"./yCPM-K_V.js";import{d as U,r as c,l as x,o as u,w as d,e as C,b as n,c as y,m as B,u as i,g as p}from"./DZ2khTnM.js";const F={class:"flex justify-center items-center gap-10"},j=["src"],L=U({__name:"ImageUploadDialog",props:{label:{default:"Téléverser une image"},uploadFn:{}},setup(m,{expose:v}){const{uploadFn:f}=m,a=c(!1),l=c(null),t=c(null),b=()=>{a.value=!0},s=()=>{a.value=!1,l.value=null,t.value=null},_=r=>{var o;const e=(o=r.files)==null?void 0:o[0];e&&(l.value=e,t.value=URL.createObjectURL(e))},g=async()=>{l.value&&(await f(l.value),s())};return v({open:b,close:s}),(r,e)=>{const o=k;return u(),x(i(w),{visible:a.value,"onUpdate:visible":e[0]||(e[0]=h=>a.value=h),modal:"",header:r.label,style:{width:"30rem"}},{footer:d(()=>[n(i(p),{label:"Annuler",icon:"pi pi-times",text:"",onClick:s}),n(i(p),{label:"Sauvegarder",icon:"pi pi-check",disabled:!l.value,onClick:g},null,8,["disabled"])]),default:d(()=>[C("div",F,[n(o,{ref:"uploader",name:"image","custom-upload":!0,accept:"image/*",mode:"basic",auto:"","choose-label":"Parcourir",onSelect:_},null,512),t.value?(u(),y("img",{key:0,src:t.value,alt:"Aperçu",class:"w-24 h-24 rounded-full object-cover mt-4"},null,8,j)):B("",!0)])]),_:1},8,["visible","header"])}}});export{L as _};
