import{u as I}from"./BC-j4gIq.js";import{d as h,H as C,r as q,B as w,c as n,a as x,F as B,o as a,e as o,q as i,t as d,b as p,u as g,g as m}from"./DZ2khTnM.js";const V={key:0},z={class:"mb-2"},E={class:"flex gap-2"},F=h({__name:"invitation",setup(N){const u=C(),l=u.query.userId,v=u.query.groupeId,s=q([]),{getInvitations:f,responseInvitation:y}=I(),k=async()=>{if(l)try{s.value=await f(l)}catch(t){console.error("Erreur lors du chargement des invitations :",t)}},c=async(t,e)=>{try{await y(e.user.id,v??e.group.id.toString(),t),s.value=s.value.filter(r=>r.group.id!==e.group.id)}catch(r){console.error("Erreur lors de la réponse à l'invitation :",r)}};return w(k),(t,e)=>s.value.length===0?(a(),n("div",V,"Aucune invitation reçue.")):(a(!0),n(B,{key:1},x(s.value,(r,_)=>(a(),n("div",{key:_,class:"bg-white p-4 shadow rounded-lg mb-4"},[o("p",z,[e[0]||(e[0]=i(" Vous avez invité à rejoindre le groupe ",-1)),o("strong",null,d(r.group.name),1),e[1]||(e[1]=i(" en tant que ",-1)),o("em",null,d(r.role),1),e[2]||(e[2]=i(". ",-1))]),o("div",E,[p(g(m),{icon:"pi pi-check",label:"Accepter",severity:"success",size:"small",onClick:b=>c(!0,r)},null,8,["onClick"]),p(g(m),{icon:"pi pi-times",label:"Refuser",severity:"danger",size:"small",onClick:b=>c(!1,r)},null,8,["onClick"])])]))),128))}});export{F as default};
