import{_ as g}from"./CYJ52WXx.js";import x from"./MA8Q7GA3.js";import v from"./Db3Bpxue.js";import k from"./BNuFmWGi.js";import"./BKkSeoc7.js";import{e as b,g as A,p as C,q as R,c as y,a as t,b as o,w as s,u as p,F as M,v as N,m as h,o as j,d as i}from"./DIPFmy-v.js";import B from"./BmRJgn3N.js";import"./CJUcSvfp.js";import"./BVgkDWEn.js";import"./B9EJQSTf.js";import"./Bhal5AHG.js";import"./Df5vyCdq.js";import"./BeJWclAO.js";import"./CdE3wk_g.js";import"./jc0MLXVe.js";import"./ZhWAdK_X.js";import"./CLs7nh7g.js";import"./Czxr1nYZ.js";import"./Bl7VVRXG.js";import"./BZFGTD8C.js";import"./B6NbFv2A.js";import"./O6O1r6a4.js";import"./BObQDylZ.js";import"./BXhfHGud.js";import"./WhPbpioh.js";import"./B-FWTQXe.js";const F={class:"flex flex-col items-center gap-0.5"},ne=b({__name:"reset",setup(L){const c=N(),d=A(),{reset:f}=C(),_=R({mutationFn:r=>f(r),onSuccess:()=>{d.push({name:"auth-login"})}}),w=async r=>{if(!r.valid)return;const e=r.states.password.value,n=r.states.passwordConfirm.value;if(e!==n){alert("Les mots de passe ne correspondent pas.");return}const a=c.query.resetToken;_.mutate({password:e,repeatPassword:n,resetToken:a})};return(r,e)=>{const n=v,a=x,m=g,l=h("RouterLink");return j(),y(M,null,[e[5]||(e[5]=t("h2",{class:"text-center text-4xl mb-14"}," Réinitialisation de votre mot de passe ",-1)),o(p(k),{class:"flex flex-col md:w-1/2 mx-5 md:mx-auto gap-6 items-center",onSubmit:w},{default:s(u=>[o(m,{form:u,name:"password",placeholder:"Nouveau mot de passe"},{footer:s(()=>[o(a),e[0]||(e[0]=t("ul",{class:"pl-2 my-0 leading-normal"},[t("li",null,"Au moins une majuscule"),t("li",null,"Au moins une minuscule"),t("li",null,"Au moins un chiffre"),t("li",null,"Minimum 8 caractères")],-1))]),default:s(()=>[o(n,{name:"password",class:"w-full","toggle-mask":"",fluid:"",feedback:!1,"input-props":{autocomplete:"new-password"}})]),_:2},1032,["form"]),o(m,{form:u,name:"passwordConfirm",placeholder:"Confirme ton mot de passe"},{footer:s(()=>[o(a),e[1]||(e[1]=t("ul",{class:"pl-2 my-0 leading-normal"},[t("li",null,"Au moins une majuscule"),t("li",null,"Au moins une minuscule"),t("li",null,"Au moins un chiffre"),t("li",null,"Minimum 8 caractères")],-1))]),default:s(()=>[o(n,{name:"passwordConfirm",class:"w-full","toggle-mask":"",fluid:"",feedback:!1,"input-props":{autocomplete:"new-password"}})]),_:2},1032,["form"]),t("div",F,[o(p(B),{type:"submit",class:"w-fit"},{default:s(()=>e[2]||(e[2]=[i("Enregistrer")])),_:1,__:[2]}),o(l,{to:{name:"auth-login"},class:"hover:underline"},{default:s(()=>e[3]||(e[3]=[i("Déjà un compte")])),_:1,__:[3]}),o(l,{to:{name:"auth-register"},class:"hover:underline"},{default:s(()=>e[4]||(e[4]=[i("Pas encore de compte")])),_:1,__:[4]})])]),_:1})],64)}}});export{ne as default};
