import k from"./DDkzpiBD.js";import w from"./WA78xVwC.js";import u from"./CmySksWD.js";import{e as U,r as c,l as x,o as p,w as m,a as C,b as i,c as y,m as B,u as n}from"./EKjwmu4X.js";const F={class:"flex justify-center items-center gap-10"},j=["src"],R=U({__name:"ImageUploadDialog",props:{label:{default:"Téléverser une image"},uploadFn:{}},setup(d,{expose:v}){const{uploadFn:f}=d,a=c(!1),l=c(null),o=c(null),b=()=>{a.value=!0},s=()=>{a.value=!1,l.value=null,o.value=null},_=r=>{var t;const e=(t=r.files)==null?void 0:t[0];e&&(l.value=e,o.value=URL.createObjectURL(e))},g=async()=>{l.value&&(await f(l.value),s())};return v({open:b,close:s}),(r,e)=>{const t=k;return p(),x(n(w),{visible:a.value,"onUpdate:visible":e[0]||(e[0]=h=>a.value=h),modal:"",header:r.label,style:{width:"30rem"}},{footer:m(()=>[i(n(u),{label:"Annuler",icon:"pi pi-times",text:"",onClick:s}),i(n(u),{label:"Sauvegarder",icon:"pi pi-check",disabled:!l.value,onClick:g},null,8,["disabled"])]),default:m(()=>[C("div",F,[i(t,{ref:"uploader",name:"image","custom-upload":!0,accept:"image/*",mode:"basic",auto:"","choose-label":"Parcourir",onSelect:_},null,512),o.value?(p(),y("img",{key:0,src:o.value,alt:"Aperçu",class:"w-24 h-24 rounded-full object-cover mt-4"},null,8,j)):B("",!0)])]),_:1},8,["visible","header"])}}});export{R as _};
