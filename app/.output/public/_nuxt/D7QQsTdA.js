import{e as B,c as j,o as a,a as t,n as c,t as n,s as z,i as M,j as T,g as V,r as U,k as d,w as O,l as f,b as l,u as o,x as q}from"./B4C1c3y9.js";import{_ as F}from"./DUAG1vdQ.js";import{_ as H}from"./Dmxq6yae.js";import{f as A}from"./CPAmBVur.js";import{g as L}from"./8G3UIhLy.js";import J from"./CDF5jS1J.js";import{d as K}from"./ag4DBlC9.js";import{u as Q}from"./C45g08Ar.js";import"./Cq7vZuTx.js";import"./m79N28XI.js";import"./DGOriwfr.js";import"./yOe6c3TM.js";import"./FS8s-9Kc.js";import"./3rI856ft.js";import"./CG7fiWaA.js";import"./B-SteLpu.js";import"./jc0MLXVe.js";import"./ZhWAdK_X.js";import"./BKHu4taz.js";import"./DDRO_9ox.js";import"./B5bcPuAO.js";import"./CLs7nh7g.js";import"./C-2cxPHV.js";import"./DFRwXp6x.js";import"./BhORaDyX.js";import"./DfIvkuC_.js";import"./C1pTgOiJ.js";const W={class:"shadow rounded-lg p-4"},X={class:"flex gap-1 items-center text-lg font-semibold"},Y=B({__name:"CardProfil",props:{label:{},content:{},icon:{}},setup(E){return(e,p)=>(a(),j("div",W,[t("div",X,[t("i",{class:c(["pi stroke-2 mr-2",[e.icon]])},null,2),t("p",null,n(e.label),1)]),t("p",null,n(e.content),1)]))}}),Z={key:0,class:"flex flex-col justify-center items-center"},oo={class:"relative"},eo=["src"],to={class:"text-sm mt-3"},so={class:"font-bold"},ro={class:"mt-1"},no={class:"flex flex-col md:flex-row w-full lg:max-w-3/4 gap-8 mt-12"},io={class:"flex justify-center mt-10"},Po=B({__name:"index",setup(E){var g;const{user:e}=z(M()),{personnalGroup:p}=z(T()),u=V(),{clearAuth:P,uploadPicture:R}=M(),{trackMatomoEvent:S}=q(),_=U(null);return Q({title:"Mon profil",description:"Consultez et modifiez les informations de votre profil utilisateur pour personnaliser votre expérience sur MonApp.",ogTitle:"Profil utilisateur",ogDescription:"Gérez vos informations personnelles et paramètres de compte depuis votre profil Monea.",image:((g=e.value)==null?void 0:g.picture)??void 0}),(s,r)=>{const m=J,v=Y,I=F,N=H;return a(),d(N,null,{default:O(()=>{var b,h,C,k,y,x,D,$,G;return[o(e)?(a(),j("div",Z,[t("div",oo,[t("img",{src:o(e).picture??o(K),class:"rounded-full w-32 h-32 bg-gray-100 object-cover"},null,8,eo),o(e).googleId?f("",!0):(a(),d(m,{key:0,icon:"pi pi-pencil",size:"small",class:"absolute right-0 top-0",onClick:r[0]||(r[0]=i=>{var w;return(w=o(_))==null?void 0:w.open()})}))]),t("p",to," Membre depuis le "+n(("formatLongDate"in s?s.formatLongDate:o(A))(o(e).createdAt)),1),t("p",{class:c(["text-2xl font-bold",[`text-${(b=o(p))==null?void 0:b.color}-700`]])},n((h=o(e))==null?void 0:h.name)+" "+n((C=o(e))==null?void 0:C.lastname),3),t("p",so,n((k=o(e))==null?void 0:k.username),1),t("div",ro,[l(m,{icon:"pi pi-eye",label:"Invitation",class:c(["mr-2",[("getGroupColor"in s?s.getGroupColor:o(L))({color:(y=o(p))==null?void 0:y.color})]]),size:"small",onClick:r[1]||(r[1]=i=>o(u).push("/user/invitation"))},null,8,["class"]),l(m,{icon:"pi pi-pencil",label:"Edition",size:"small",class:c([("getGroupColor"in s?s.getGroupColor:o(L))({color:(x=o(p))==null?void 0:x.color})]),onClick:r[2]||(r[2]=i=>o(u).push("/user/edit"))},null,8,["class"])])])):f("",!0),t("div",no,[l(v,{icon:"pi-inbox",label:"Email",content:(D=o(e))==null?void 0:D.email},null,8,["content"]),($=o(e))!=null&&$.birthday?(a(),d(v,{key:0,icon:"pi-gift",label:"Anniversaire",content:("formatLongDate"in s?s.formatLongDate:o(A))((G=o(e))==null?void 0:G.birthday)},null,8,["content"])):f("",!0)]),t("div",io,[l(m,{label:"Deconnexion",severity:"danger",variant:"outlined",onClick:r[3]||(r[3]=i=>(o(P)(),o(S)("User","Logout","logout_user"),o(u).push({name:"auth-login"})))})]),l(I,{ref_key:"dialogRef",ref:_,"upload-fn":i=>o(R).mutateAsync(i),label:"Modifier la photo de profil"},null,8,["upload-fn"])]}),_:1})}}});export{Po as default};
